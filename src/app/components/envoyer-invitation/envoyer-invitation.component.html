<body>
  <div class="page-container">
    <div class="dialog-container">
      <h2 class="dialog-title">ğŸ“© Envoyer une Invitation</h2>

      <form class="dialog-form" [formGroup]="invitationForm" (ngSubmit)="envoyer()">

        <!-- Ligne Utilisateur + Ã‰vÃ©nement -->
        <div class="form-row">
          <div>
            <label for="idUser"><span class="icon">ğŸ‘¤</span> Utilisateur*</label>
            <select id="idUser" formControlName="idUser" required>
              <option value="" disabled selected>-- SÃ©lectionner utilisateur --</option>
              <option *ngFor="let user of utilisateurs" [value]="user.idUser">{{ user.email }}</option>
            </select>
            <div class="form-error" *ngIf="invitationForm.get('idUser')?.invalid && invitationForm.get('idUser')?.touched">
              Veuillez sÃ©lectionner un utilisateur.
            </div>
          </div>

          <div>
            <label for="idEvenement"><span class="icon">ğŸ“…</span> Ã‰vÃ©nement*</label>
            <select id="idEvenement" formControlName="idEvenement" required>
              <option value="" disabled selected>-- SÃ©lectionner Ã©vÃ©nement --</option>
              <option *ngFor="let event of evenements" [value]="event.idEvenement">{{ event.titre }}</option>
            </select>
            <div class="form-error" *ngIf="invitationForm.get('idEvenement')?.invalid && invitationForm.get('idEvenement')?.touched">
              Veuillez sÃ©lectionner un Ã©vÃ©nement.
            </div>
          </div>
        </div>

        <!-- Message -->
        <div>
          <label for="message"><span class="icon">ğŸ’¬</span> Message*</label>
          <textarea id="message" rows="4" formControlName="message" placeholder="Ex: Bonjour Cher, Vous Ãªtes invitÃ© Ã ..." required></textarea>
          <div class="form-error" *ngIf="invitationForm.get('message')?.invalid && invitationForm.get('message')?.touched">
            Le message est requis.
          </div>
        </div>

        <!-- Actions -->
        <div class="dialog-actions">
          <button type="button" class="cancel-btn" (click)="annuler()">Annuler</button>

          <button type="submit" class="confirm-btn" [disabled]="invitationForm.invalid">Envoyer l'invitation</button>
        </div>
      </form>
    </div>
  </div>
</body>